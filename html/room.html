<!DOCTYPE html>
<html>
	<head>
		<title><script node>getAsset("title")</script>node>: 404</title>
		<script node>getAsset("logo")</script>node>
		<script node>getAsset("meta")</script>node>
		<script node>getAsset("fonts")</script>node>
		<script node>getAsset("css-variables")</script>node>
		<link rel="stylesheet" href="main.css"/>
		<link rel="stylesheet" href="room.css"/>
		<script src="room.js" defer></script>
		<script>window.roomId = "<script node>REQUEST.path[REQUEST.path.length - 1]</script>node>"</script>
		<script node>let configurations = getAsset("configurations")</script>node>
	</head>
	<body>
		<details id="configuration">
			<summary id="configuration-button">&#x2699;</summary>
			<div id="configuration-overlay" method="post" action="javascript:;">
				<section id="configuration-room">
					<h2>
						<span>room:</span>
						<output id="configuration-room-id" value="<script node>REQUEST.path[REQUEST.path.length - 1]</script>node>"></output>
					</h2>
					<label>
						<span>name:</span>
						<input id="configuration-room-name" type="text" placeholder="room name">
					</label>
				</section>
				<section id="configuration-players">
					<h2>players</h2>
					<div id="configuration-players-list"></div>
					<div id="configuration-players-invite">
						<h3>invite</h3>
						<button id="configuration-players-invite-link">&#x1f517;</button>
						<label>
							<span>name</span>
							<input type="text" id="configuration-players-invite-name" placeholder="name">
						</label>
						<label>
							<span>email</span>
							<input type="email" id="configuration-players-invite-email" placeholder="email">
						</label>
						<a href="#" id="configuration-players-invite-mailto" target="_blank">&#x2709;</a>
					</div>
				</section>
				<section id="configuration-game">
					<h2>game play options</h2>
					<label>
						<span>preset</span>
						<select id="configuration-game-preset" configuration="true">
							<option value="custom">custom</option>
							<script node>
								let presets = ""
								for (let i in configurations.presets) {
									presets += "<option value=" + i + ">" + i + "></option>"
								}
								presets
							</script>node>
						</select>
					<label>
						<h3>timer</h3>
						<label>active <input type="checkbox" id="configuration-game-timer-active" configuration="true"></label>
						<label>seconds <input type="number" id="configuration-game-timer-seconds" step="1" min="0" placeholder="seconds" configuration="true"></label>
					</label>
					<label>
						<h3>board</h3>
						<label>x <input type="number" id="configuration-game-board-x" step="1" min="<script node>configurations.board.x.minimum</script>node>" max="<script node>configurations.board.x.maximum</script>node>" placeholder="x" configuration="true"></label>
						<label>y <input type="number" id="configuration-game-board-y" step="1" min="<script node>configurations.board.y.minimum</script>node>" max="<script node>configurations.board.y.maximum</script>node>" placeholder="y" configuration="true"></label>
						<label>show cells <input type="checkbox" id="configuration-game-board-grid" configuration="true"></label>
						<label>show coordinates <input type="checkbox" id="configuration-game-board-coordinates" configuration="true"></label>
					</label>
					<label>
						<h3>background</h3>
						<select id="configuration-game-board-background" configuration="true">
							<script node>
								let backgrounds = ""
								for (let i in configurations.backgrounds) {
									backgrounds += "<option value=" + i.replace(/\s/g, "-") + ">" + i + "></option>"
								}
								backgrounds
							</script>node>
						</select>
					</label>
					<label>
						<h3>objects</h3>
						<label># used<input type="number" id="configuration-game-objects-count" step="1" min="<script node>configurations.count.minimum</script>node>" max="<script node>configurations.count.maximum</script>node>" placeholder="count" configuration="true"></label>
						<label># unused<input type="number" id="configuration-game-objects-unused" step="1" min="<script node>configurations.unused.minimum</script>node>" max="<script node>configurations.unused.maximum</script>node>" placeholder="unused" configuration="true"></label>
						<label>allow overlap <input type="checkbox" id="configuration-game-objects-overlap" configuration="true"></label>
						<label>allow translucent <input type="checkbox" id="configuration-game-objects-translucent" configuration="true"></label>
						<label>borders <input type="checkbox" id="configuration-game-objects-borders" configuration="true"></label>
						<label>labels <input type="checkbox" id="configuration-game-objects-labels" configuration="true"></label>
					</label>
					<label>
						<h3>sizes</h3>
						<script node>
							let sizes = ""
							for (let i in configurations.sizes) {
								sizes += "<label>" + i + "<input type='checkbox' property='objects-sizes' id='configuration-game-objects-sizes-" + i + "' configuration='true'></label>"
							}
							sizes
						</script>node>
					</label>
					<label>
						<h3>shapes</h3>
						<script node>
							let shapes = ""
							for (let i in configurations.shapes) {
								shapes += "<label>" + i + "<input type='checkbox' property='objects-shapes' id='configuration-game-objects-shapes-" + i.replace(/\s/g, "_") + "' configuration='true'></label>"
							}
							shapes
						</script>node>
					</label>
					<label>
						<h3>colors</h3>
						<script node>
							let colors = ""
							for (let i in configurations.colors) {
								colors += "<label>" + i.replace(/-/g, " ") + "<input type='checkbox' property='objects-colors' id='configuration-game-objects-colors-" + i.replace(/-/g, "_") + "' configuration='true'></label>"
							}
							colors
						</script>node>
					</label>
				</section>
				<section>
					<h2>game status: <output id="configuration-game-status-current"></output></h2>
					<label>
						<button id="configuration-game-status-start">start</button>
						<button id="configuration-game-status-end">end</button>
					</label>
				</section>
			</div>
		</details>
		<div id="container">
			<div id="timer" visibility="false"></div>
			<div id="screens"></div>
		</div>
	</body>
</html>